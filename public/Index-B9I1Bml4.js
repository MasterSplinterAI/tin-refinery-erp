import{l as k,k as g,h as S,y as D,c as R,o as n,w as c,b as t,f as i,g as x,t as a,i as d,q as m,s as f,e as U,d as O,F as V,p as _,W as v}from"./app-8R1G56o3.js";import{_ as F}from"./AuthenticatedLayout-CaGbjJxc.js";import"./ApplicationLogo-BMW9y-Is.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6 bg-white border-b border-gray-200"},E={key:0,class:"mb-8 p-4 bg-blue-50 rounded-lg"},A={class:"text-2xl font-bold text-blue-900"},I={class:"text-sm text-blue-600"},L={class:"mb-8 p-4 bg-gray-50 rounded-lg"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={key:0,class:"mt-4 p-4 bg-white rounded-md shadow"},q={class:"text-lg font-semibold"},H={class:"text-blue-600"},$={class:"text-sm text-gray-600"},j={class:"mb-8 p-4 bg-gray-50 rounded-lg"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},Q={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ot=k({__name:"Index",props:{rates:{},latestRate:{},flash:{}},setup(y){const b=y,l=g({amount:0,fromCurrency:"USD",toCurrency:"COP",date:""}),r=g({rate:0,date:new Date().toISOString().split("T")[0]}),u=g(null),w=S(()=>{var o;return(o=b.latestRate)!=null&&o.rate?Number(b.latestRate.rate).toFixed(4):"0.0000"});D(()=>{var o;return(o=b.flash)==null?void 0:o.conversion},o=>{o&&(u.value=o)},{immediate:!0});const p=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=()=>{v.post("/exchange-rates/convert",l.value,{preserveScroll:!0})},C=()=>{v.post("/exchange-rates",r.value,{onSuccess:()=>{r.value={rate:0,date:new Date().toISOString().split("T")[0]}}})};return(o,e)=>(n(),R(F,null,{header:c(()=>e[6]||(e[6]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Exchange Rates ",-1)])),default:c(()=>[t("div",P,[t("div",N,[t("div",T,[t("div",B,[o.latestRate?(n(),i("div",E,[e[7]||(e[7]=t("h3",{class:"text-lg font-semibold text-blue-800 mb-2"},"Current Exchange Rate",-1)),t("p",A," 1 USD = "+a(w.value)+" COP ",1),t("p",I," Last updated: "+a(p(o.latestRate.date)),1)])):x("",!0),t("div",L,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Currency Converter",-1)),t("div",M,[t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"Amount",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.amount=s),type:"number",step:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,l.value.amount]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700"},"From",-1)),d(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.fromCurrency=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},e[9]||(e[9]=[t("option",{value:"USD"},"USD",-1),t("option",{value:"COP"},"COP",-1)]),512),[[f,l.value.fromCurrency]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700"},"To",-1)),d(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.toCurrency=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},e[11]||(e[11]=[t("option",{value:"USD"},"USD",-1),t("option",{value:"COP"},"COP",-1)]),512),[[f,l.value.toCurrency]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700"},"Date (Optional)",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.date=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,l.value.date]])])]),t("button",{onClick:h,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"}," Convert "),u.value?(n(),i("div",W,[t("p",q,[U(a(l.value.amount)+" "+a(l.value.fromCurrency)+" = ",1),t("span",H,a(u.value.result.toFixed(2))+" "+a(l.value.toCurrency),1)]),t("p",$," Using rate: "+a(u.value.rate_used.toFixed(4)),1)])):x("",!0)]),t("div",j,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Add New Exchange Rate",-1)),t("form",{onSubmit:O(C,["prevent"]),class:"space-y-4"},[t("div",z,[t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700"},"Rate (COP per USD)",-1)),d(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r.value.rate=s),type:"number",step:"0.0001",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,r.value.rate]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700"},"Date",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>r.value.date=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[m,r.value.date]])])]),e[17]||(e[17]=t("button",{type:"submit",class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500"}," Add Rate ",-1))],32)]),t("div",null,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Historical Rates",-1)),t("div",G,[t("table",J,[e[19]||(e[19]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Rate"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Source")])],-1)),t("tbody",K,[(n(!0),i(V,null,_(o.rates.data,s=>(n(),i("tr",{key:s.id},[t("td",Q,a(p(s.date)),1),t("td",X,a(Number(s.rate).toFixed(4)),1),t("td",Y,a(s.source),1)]))),128))])])])])])])])])]),_:1}))}});export{ot as default};
